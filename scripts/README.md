# 中英文自动间距格式化工具

这个工具可以自动在中文和英文字符之间添加空格，提升中文排版的美观性。

## ✨ 功能特点

1. **智能间距添加**：
   - 自动在中文和英文字符之间添加空格
   - 自动在中文和数字之间添加空格
   - 如果已有空格则不重复添加

2. **智能跳过机制**：
   - ✅ 跳过代码块（\`\`\` 包围的内容）
   - ✅ 跳过行内代码（\` 包围的内容）
   - ✅ 跳过 Front Matter（YAML 头部）
   - ✅ 跳过缩进代码行
   - ✅ 跳过图表代码块（Mermaid、PlantUML 等）
   - ✅ 跳过 PlantUML 特殊语法（@startuml...@enduml）

3. **支持的图表类型**：
   - Mermaid（流程图、序列图、甘特图、饼图等）
   - PlantUML（类图、序列图、用例图、活动图等）
   - Graphviz/DOT
   - 其他图表类型：flowchart、sequence、gantt、pie、mindmap

4. **其他功能**：
   - ✅ 支持文件监听，保存时自动格式化
   - ✅ 支持批量处理所有 markdown 文件

## 安装依赖

```bash
npm install
```

## 使用方法

### 1. 一次性格式化所有文件

```bash
npm run format:spacing
```

这个命令会处理 `md-blogs` 目录下的所有 `.md` 文件。

### 2. 启动文件监听器

```bash
npm run watch:format
```

启动后，每当你保存 `.md` 文件时，工具会自动格式化中英文间距。

### 3. 格式化示例

**处理前：**
```
这是一个Vue3项目，使用了TypeScript和Tailwind CSS。
我们需要安装Node.js版本16以上。
```

**处理后：**
```
这是一个 Vue3 项目，使用了 TypeScript 和 Tailwind CSS。
我们需要安装 Node.js 版本 16 以上。
```

## 智能跳过

工具会智能跳过以下内容，避免破坏代码格式：

- **代码块**：\`\`\` 包围的代码块
- **行内代码**：\` 包围的行内代码
- **Front Matter**：文件头部的 YAML 配置
- **缩进代码**：以 4 个空格或 tab 开头的代码行

## 文件结构

```
scripts/
├── format-spacing.js    # 核心格式化逻辑
├── watch-format.js      # 文件监听器
└── README.md           # 使用说明
```

## 注意事项

1. 工具只处理 `.md` 文件
2. 处理前会自动备份（通过 git 版本控制）
3. 建议在使用前先提交当前更改到 git
4. 文件监听器使用防抖机制，避免频繁触发

## 停止监听

在文件监听模式下，按 `Ctrl+C` 可以停止监听器。